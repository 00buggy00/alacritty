[1m[7m%[27m[1m[0m                                                                                                                                                                                      [0m[27m[24m[Jjwilm@kurast.local [01;32mâžœ [01;32m [36m~/code/alacritty [00m [K[?1h=[?2004h[1m[31mv[0m[39m[0m[35mv[35mi[39m[35mv[35mi[35mm[39m[?1l>[?2004l
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H[1;57r[?12;25h[?12l[?25h[27m[m[38;2;234;234;234m[48;2;0;0;0m[H[2J[>c[?25l[1;1H[38;2;66;66;66m  1 [m[38;2;234;234;234m[48;2;0;0;0m[80C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m~                                                                                                                                                                                     [3;1H~                                                                                                                                                                                     [4;1H~                                                                                                                                                                                     [5;1H~                                                                                                                                                                                     [6;1H~                                                                                                                                                                                     [7;1H~                                                                                                                                                                                     [8;1H~                                                                                                                                                                                     [9;1H~                                                                                                                                                                                     [10;1H~                                                                                                                                                                                     [11;1H~                                                                                                                                                                                     [12;1H~                                                                                                                                                                                     [13;1H~                                                                                                                                                                                     [14;1H~                                                                                                                                                                                     [15;1H~                                                                                                                                                                                     [16;1H~                                                                                                                                                                                     [17;1H~                                                                                                                                                                                     [18;1H~                                                                                                                                                                                     [19;1H~                                                                                                                                                                                     [20;1H~                                                                                                                                                                                     [21;1H~                                                                                                                                                                                     [22;1H~                                                                                                                                                                                     [23;1H~                                                                                                                                                                                     [24;1H~                                                                                                                                                                                     [25;1H~                                                                                                                                                                                     [26;1H~                                                                                                                                                                                     [27;1H~                                                                                                                                                                                     [28;1H~                                                                                                                                                                                     [29;1H~                                                                                                                                                                                     [30;1H~                                                                                                                                                                                     [31;1H~                                                                                                                                                                                     [32;1H~                                                                                                                                                                                     [33;1H~                                                                                                                                                                                     [34;1H~                                                                                                                                                                                     [35;1H~                                                                                                                                                                                     [36;1H~                                                                                                                                                                                     [37;1H~                                                                                                                                                                                     [38;1H~                                                                                                                                                                                     [39;1H~                                                                                                                                                                                     [40;1H~                                                                                                                                                                                     [41;1H~                                                                                                                                                                                     [42;1H~                                                                                                                                                                                     [43;1H~                                                                                                                                                                                     [44;1H~                                                                                                                                                                                     [45;1H~                                                                                                                                                                                     [46;1H~                                                                                                                                                                                     [47;1H~                                                                                                                                                                                     [48;1H~                                                                                                                                                                                     [49;1H~                                                                                                                                                                                     [50;1H~                                                                                                                                                                                     [51;1H~                                                                                                                                                                                     [52;1H~                                                                                                                                                                                     [53;1H~                                                                                                                                                                                     [54;1H~                                                                                                                                                                                     [55;1H~                                                                                                                                                                                     [56;1H~                                                                                                                                                                                     [m[38;2;234;234;234m[48;2;0;0;0m[57;165H0,0-1[9CAll[23;83HVIM - Vi IMproved[25;84Hversion 7.4.1832[26;80Hby Bram Moolenaar et al.[27;70HVim is open source and freely distributable[29;77HHelp poor children in Uganda![30;69Htype  :help iccf[38;2;66;66;66m<Enter>[m[38;2;234;234;234m[48;2;0;0;0m       for information [32;69Htype  :q[38;2;66;66;66m<Enter>[m[38;2;234;234;234m[48;2;0;0;0m               to exit         [33;69Htype  :help[38;2;66;66;66m<Enter>[m[38;2;234;234;234m[48;2;0;0;0m  or  [38;2;66;66;66m<F1>[m[38;2;234;234;234m[48;2;0;0;0m  for on-line help[34;69Htype  :help version7[38;2;66;66;66m<Enter>[m[38;2;234;234;234m[48;2;0;0;0m   for version info[1;5H[?12l[?25h[?25l[57;165H[K[57;1H:CommandT[23;83H[38;2;66;66;66m                 [25;84H                [26;80H                        [27;70H                                           [29;77H                             [30;69H                                              [32;69H                                              [33;69H                                              [34;69H                                              [m[38;2;234;234;234m[48;2;0;0;0m[54;1H[7m[38;2;77;80;87m[48;2;234;234;234m[No Name] [Git(mouse-reporting)]                                                                                                                                    0,0-1          All[m[38;2;234;234;234m[48;2;0;0;0m[55;1H[K[56;1H[7m[38;2;77;80;87m[48;2;236;206;88mCommand-T [Files] [-][Git(mouse-reporting)]                                                                                                                         0,0-1          All[m[38;2;234;234;234m[48;2;0;0;0m[57;1H[38;2;118;120;118m>>[m[38;2;234;234;234m[48;2;0;0;0m[57;3H[K[57;4H[4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4H[4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[40;1H[7m[38;2;77;80;87m[48;2;234;234;234m[No Name] [Git(mouse-reporting)]                                                                                                                                    0,0-1          All[m[38;2;234;234;234m[48;2;0;0;0m[41;1H  copypasta/Cargo.lock[41;23H[K[42;1H  build.rs[42;11H[K[43;1H  alacritty.yml[43;16H[K[44;1H  alacritty.recording[44;22H[K[45;1H  alacritty-pre-eloop[45;22H[K[46;1H  TASKS.md[46;11H[K[47;1H  README.md[47;12H[K[48;1H  Makefile[48;11H[K[49;1H  LICENSE-APACHE[49;17H[K[50;1H  Cargo.toml[50;13H[K[51;1H  Cargo.lock[51;13H[K[52;1H  Alacritty.app/Contents/Resources/Alacritty.icns[52;50H[K[53;1H  Alacritty.app/Contents/PkgInfo[53;33H[K[54;1H  Alacritty.app/Contents/MacOS/Alacritty[54;41H[K[55;1H[7m[38;2;234;234;234m[48;2;66;66;66m> Alacritty.app/Contents/Info.plist[m[38;2;234;234;234m[48;2;0;0;0m[7m[38;2;234;234;234m[48;2;223;101;102m                                                                                                                                                   [m[38;2;234;234;234m[48;2;0;0;0m[56;165H[7m[38;2;77;80;87m[48;2;236;206;88m15,1 [m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4H[4m[38;2;106;90;205m [55;1H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hl[4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[41;3Hfont/src/ft/[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0mist_fonts.rs
  copypasta/[1m[4mL[m[38;2;234;234;234m[48;2;0;0;0mICENSE-APACHE
  tests/ref/[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0ml/size.json
  tests/ref/[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0ml/grid.json
  copypasta/src/[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0mib.rs
  font/src/[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0mib.rs
  src/[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0mib.rs
  A[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0macritty.app/Contents/Resources/Alacritty.icns
  A[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0macritty.app/Contents/MacOS/Alacritty
  A[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0macritty.app/Contents/Info.plist
  A[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0macritty.app/Contents/PkgInfo
  a[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0m[8Crecording[52;22H[K[53;3Ha[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0m[7C-pre-eloop[53;22H[K[54;3H[1m[4mL[m[38;2;234;234;234m[48;2;0;0;0mICENSE-APACHE[54;17H[K[55;3H[7m[38;2;234;234;234m[48;2;66;66;66ma[9Cyml[m[38;2;234;234;234m[48;2;0;0;0m[7m[38;2;234;234;234m[48;2;223;101;102m                    [m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hl[4m[38;2;106;90;205m [55;1H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hli[4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[41;3Htests/ref/tmux_git_[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0mog/gr[1m[4mi[m[38;2;234;234;234m[48;2;0;0;0md.json
  tests/ref/tmux_git_[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0mog/s[1m[4mi[m[38;2;234;234;234m[48;2;0;0;0mze.json
  A[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0macr[1m[4mi[m[38;2;234;234;234m[48;2;0;0;0mtty.app/Contents/Info.plist
  macos/Info.p[1m[4mli[m[38;2;234;234;234m[48;2;0;0;0mst[44;19H[K[45;3Htmux-c[1m[4mli[m[38;2;234;234;234m[48;2;0;0;0ment-23038.log
  a[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0macr[1m[4mi[m[38;2;234;234;234m[48;2;0;0;0mtty.recording
  a[1m[4ml[m[38;2;234;234;234m[48;2;0;0;0macr[1m[4mi[m[38;2;234;234;234m[48;2;0;0;0mtty-pre-eloop
  a[4C[1m[4mi[m[38;2;234;234;234m[48;2;0;0;0mtty.yml[48;16H[K[49;8H[1m[4mi[m[38;2;234;234;234m[48;2;0;0;0m[17CPkgInfo[49;33H[K[50;3Hfont/src/ft/[1m[4mli[m[38;2;234;234;234m[48;2;0;0;0mst_fonts.rs[50;28H[K[51;3Hcopypasta/[1m[4mLI[m[38;2;234;234;234m[48;2;0;0;0mCENSE-APACHE[51;27H[K[52;3Hcopypasta/src/[1m[4mli[m[38;2;234;234;234m[48;2;0;0;0mb.rs
  font/src/[1m[4mli[m[38;2;234;234;234m[48;2;0;0;0mb.rs[53;18H[K[54;3Hsrc/[1m[4mli[m[38;2;234;234;234m[48;2;0;0;0mb.rs[54;13H[K[55;3H[7m[38;2;234;234;234m[48;2;66;66;66mLICENSE-APACHE[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hli[4m[38;2;106;90;205m [55;1H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hlib[4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[40;1H[38;2;66;66;66m~                                                                                                                                                                                     [41;1H~                                                                                                                                                                                     [42;1H~                                                                                                                                                                                     [43;1H~                                                                                                                                                                                     [44;1H~                                                                                                                                                                                     [45;1H~                                                                                                                                                                                     [46;1H~                                                                                                                                                                                     [47;1H~                                                                                                                                                                                     [48;1H~                                                                                                                                                                                     [49;1H~                                                                                                                                                                                     [50;1H~                                                                                                                                                                                     [51;1H~                                                                                                                                                                                     [m[38;2;234;234;234m[48;2;0;0;0m[52;1H[7m[38;2;77;80;87m[48;2;234;234;234m[No Name] [Git(mouse-reporting)]                                                                                                                                    0,0-1          All[m[38;2;234;234;234m[48;2;0;0;0m[53;3Hcopypasta/src/[1m[4mlib[m[38;2;234;234;234m[48;2;0;0;0m.rs
  font/src/[1m[4mlib[m[38;2;234;234;234m[48;2;0;0;0m.rs[55;3H[7m[38;2;234;234;234m[48;2;66;66;66msrc/lib.rs[m[38;2;234;234;234m[48;2;0;0;0m[7m[38;2;234;234;234m[48;2;223;101;102m    [m[38;2;234;234;234m[48;2;0;0;0m[56;165H[7m[38;2;77;80;87m[48;2;236;206;88m3,1 [m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hlib[4m[38;2;106;90;205m [55;1H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[52;1H[38;2;66;66;66m~                                                                                                                                                                                     [53;1H~                                                                                                                                                                                     [m[38;2;234;234;234m[48;2;0;0;0m[54;1H[7m[38;2;77;80;87m[48;2;234;234;234m[No Name] [Git(mouse-reporting)]                                                                                                                                    0,0-1          All[m[38;2;234;234;234m[48;2;0;0;0m[55;1H[38;2;66;66;66m  1 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[55;86H[K[56;1H[7m[38;2;77;80;87m[48;2;236;206;88m[No Name] [Git(mouse-reporting)]           [121C0,0-1[27m[m[38;2;234;234;234m[48;2;0;0;0m[H[2J[1;1H[38;2;66;66;66m  1 [m[38;2;234;234;234m[48;2;0;0;0m[80C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m~                                                                                                                                                                                     [3;1H~                                                                                                                                                                                     [4;1H~                                                                                                                                                                                     [5;1H~                                                                                                                                                                                     [6;1H~                                                                                                                                                                                     [7;1H~                                                                                                                                                                                     [8;1H~                                                                                                                                                                                     [9;1H~                                                                                                                                                                                     [10;1H~                                                                                                                                                                                     [11;1H~                                                                                                                                                                                     [12;1H~                                                                                                                                                                                     [13;1H~                                                                                                                                                                                     [14;1H~                                                                                                                                                                                     [15;1H~                                                                                                                                                                                     [16;1H~                                                                                                                                                                                     [17;1H~                                                                                                                                                                                     [18;1H~                                                                                                                                                                                     [19;1H~                                                                                                                                                                                     [20;1H~                                                                                                                                                                                     [21;1H~                                                                                                                                                                                     [22;1H~                                                                                                                                                                                     [23;1H~                                                                                                                                                                                     [24;1H~                                                                                                                                                                                     [25;1H~                                                                                                                                                                                     [26;1H~                                                                                                                                                                                     [27;1H~                                                                                                                                                                                     [28;1H~                                                                                                                                                                                     [29;1H~                                                                                                                                                                                     [30;1H~                                                                                                                                                                                     [31;1H~                                                                                                                                                                                     [32;1H~                                                                                                                                                                                     [33;1H~                                                                                                                                                                                     [34;1H~                                                                                                                                                                                     [35;1H~                                                                                                                                                                                     [36;1H~                                                                                                                                                                                     [37;1H~                                                                                                                                                                                     [38;1H~                                                                                                                                                                                     [39;1H~                                                                                                                                                                                     [40;1H~                                                                                                                                                                                     [41;1H~                                                                                                                                                                                     [42;1H~                                                                                                                                                                                     [43;1H~                                                                                                                                                                                     [44;1H~                                                                                                                                                                                     [45;1H~                                                                                                                                                                                     [46;1H~                                                                                                                                                                                     [47;1H~                                                                                                                                                                                     [48;1H~                                                                                                                                                                                     [49;1H~                                                                                                                                                                                     [50;1H~                                                                                                                                                                                     [51;1H~                                                                                                                                                                                     [52;1H~                                                                                                                                                                                     [53;1H~                                                                                                                                                                                     [54;1H~                                                                                                                                                                                     [55;1H~                                                                                                                                                                                     [56;1H~                                                                                                                                                                                     [m[38;2;234;234;234m[48;2;0;0;0m[57;165H0,0-1[9CAll[57;165H[K[57;165H0,0-1[9CAll[38;2;255;255;255m[48;2;255;0;0mError detected while processing function commandt#private#AcceptSelection:[m[38;2;234;234;234m[48;2;0;0;0m[57;165H[K[57;1H
[38;2;66;66;66mline    1:[m[38;2;234;234;234m[48;2;0;0;0m
[38;2;255;255;255m[48;2;255;0;0mE325: ATTENTION[m[38;2;234;234;234m[48;2;0;0;0m
Found a swap file by the name "~/.vim/swap//%Users%jwilm%code%alacritty%src%lib.rs.swp"
[10Cowned by: jwilm   dated: Fri Nov 25 22:16:29 2016
[9Cfile name: ~jwilm/code/alacritty/src/lib.rs
[10Cmodified: no
[9Cuser name: jwilm   host name: kurast.local
[8Cprocess ID: 2530 (still running)
While opening file "src/lib.rs"
[13Cdated: Fri Nov 25 22:16:02 2016

(1) Another program may be editing the same file.  If this is the case,
    be careful not to end up with two different instances of the same
    file when making changes.  Quit, or continue with caution.
(2) An edit session for this file crashed.
    If this is the case, use ":recover" or "vim -r src/lib.rs"
    to recover the changes (see ":help recovery").
    If you did this already, delete the swap file "/Users/jwilm/.vim/swap//%Users%jwilm%code%alacritty%src%lib.rs.swp"
    to avoid this message.

[38;2;197;209;92mSwap file "~/.vim/swap//%Users%jwilm%code%alacritty%src%lib.rs.swp" already exists![m[38;2;234;234;234m[48;2;0;0;0m
[38;2;197;209;92m[O]pen Read-Only, (E)dit anyway, (R)ecover, (Q)uit, (A)bort: [?12l[?25h[m[38;2;234;234;234m[48;2;0;0;0m[57;1H[K[?25l[57;1H"src/lib.rs" [readonly] 99L, 2333C[1;1H[38;2;66;66;66m  1[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m// Copyright 2016 Joe Wilm, The Alacritty Project Contributors[m[38;2;234;234;234m[48;2;0;0;0m                                      [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[1;106H[K[2;1H[38;2;66;66;66m  2[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m//[m[38;2;234;234;234m[48;2;0;0;0m                                                                                                  [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[2;106H[K[3;1H[38;2;66;66;66m  3[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m// Licensed under the Apache License, Version 2.0 (the "License");[m[38;2;234;234;234m[48;2;0;0;0m                                  [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[3;106H[K[4;1H[38;2;66;66;66m  4[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m// you may not use this file except in compliance with the License.[m[38;2;234;234;234m[48;2;0;0;0m                                 [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[4;106H[K[5;1H[38;2;66;66;66m  5[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m// You may obtain a copy of the License at[m[38;2;234;234;234m[48;2;0;0;0m                                                          [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[5;106H[K[6;1H[38;2;66;66;66m  6[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m//[m[38;2;234;234;234m[48;2;0;0;0m                                                                                                  [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[6;106H[K[7;1H[38;2;66;66;66m  7[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m//     http://www.apache.org/licenses/LICENSE-2.0[m[38;2;234;234;234m[48;2;0;0;0m                                                   [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[7;106H[K[8;1H[38;2;66;66;66m  8[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m//[m[38;2;234;234;234m[48;2;0;0;0m                                                                                                  [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[8;106H[K[9;1H[38;2;66;66;66m  9[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m// Unless required by applicable law or agreed to in writing, software[m[38;2;234;234;234m[48;2;0;0;0m                              [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[9;106H[K[10;1H[38;2;66;66;66m 10[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m// distributed under the License is distributed on an "AS IS" BASIS,[m[38;2;234;234;234m[48;2;0;0;0m                                [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[10;106H[K[11;1H[38;2;66;66;66m 11[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.[m[38;2;234;234;234m[48;2;0;0;0m                         [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[11;106H[K[12;1H[38;2;66;66;66m 12[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m// See the License for the specific language governing permissions and[m[38;2;234;234;234m[48;2;0;0;0m                              [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[12;106H[K[13;1H[38;2;66;66;66m 13[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m// limitations under the License.[m[38;2;234;234;234m[48;2;0;0;0m                                                                   [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[13;106H[K[14;1H[38;2;66;66;66m 14[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m//[m[38;2;234;234;234m[48;2;0;0;0m                                                                                                  [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[14;106H[K[15;1H[38;2;66;66;66m 15[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;118;120;118m//! Alacritty - The GPU Enhanced Terminal[m[38;2;234;234;234m[48;2;0;0;0m                                                           [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[15;106H[K[16;1H[38;2;66;66;66m 16[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![feature(question_mark)][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[16;106H[K[17;1H[38;2;66;66;66m 17[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![feature(range_contains)][m[38;2;234;234;234m[48;2;0;0;0m                                                                         [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[17;106H[K[18;1H[38;2;66;66;66m 18[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![feature(inclusive_range_syntax)][m[38;2;234;234;234m[48;2;0;0;0m                                                                 [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[18;106H[K[19;1H[38;2;66;66;66m 19[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![feature(drop_types_in_const)][m[38;2;234;234;234m[48;2;0;0;0m                                                                    [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[19;106H[K[20;1H[38;2;66;66;66m 20[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![feature(unicode)][m[38;2;234;234;234m[48;2;0;0;0m                                                                                [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[20;106H[K[21;1H[38;2;66;66;66m 21[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![feature(step_trait)][m[38;2;234;234;234m[48;2;0;0;0m                                                                             [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[21;106H[K[22;1H[38;2;66;66;66m 22[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![cfg_attr(test, feature(test))][m[38;2;234;234;234m[48;2;0;0;0m                                                                   [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[22;106H[K[23;1H[38;2;66;66;66m 23[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![feature(core_intrinsics)][m[38;2;234;234;234m[48;2;0;0;0m                                                                        [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[23;106H[K[24;1H[38;2;66;66;66m 24[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![allow(stable_features)][m[38;2;234;234;234m[48;2;0;0;0m [38;2;118;120;118m// lying about question_mark because 1.14.0 isn't released![m[38;2;234;234;234m[48;2;0;0;0m              [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[24;106H[K[25;1H[38;2;66;66;66m 25[m[38;2;234;234;234m[48;2;0;0;0m[1C                                                                                                    [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[25;106H[K[26;1H[38;2;66;66;66m 26[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#![feature(proc_macro)][m[38;2;234;234;234m[48;2;0;0;0m                                                                             [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[26;106H[K[27;1H[38;2;66;66;66m 27[m[38;2;234;234;234m[48;2;0;0;0m[1C                                                                                                    [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[27;106H[K[28;1H[38;2;66;66;66m 28[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m                                                                                        [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[28;106H[K[29;1H[38;2;66;66;66m 29[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225m_derive[m[38;2;234;234;234m[48;2;0;0;0m;                                                                          [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[29;106H[K[30;1H[38;2;66;66;66m 30[m[38;2;234;234;234m[48;2;0;0;0m[1C                                                                                                    [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[30;106H[K[31;1H[38;2;66;66;66m 31[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcgmath[m[38;2;234;234;234m[48;2;0;0;0m;                                                                                [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[31;106H[K[32;1H[38;2;66;66;66m 32[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcopypasta[m[38;2;234;234;234m[48;2;0;0;0m;                                                                             [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[32;106H[K[33;1H[38;2;66;66;66m 33[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225merrno[m[38;2;234;234;234m[48;2;0;0;0m;                                                                                 [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[33;106H[K[34;1H[38;2;66;66;66m 34[m[38;2;234;234;234m[48;2;0;0;0m[1C[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mfont[m[38;2;234;234;234m[48;2;0;0;0m;                                                                                  [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[34;106H[K[35;1H[38;2;66;66;66m 35 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mglutin[m[38;2;234;234;234m[48;2;0;0;0m;                                                  [30C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 36 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mlibc[m[38;2;234;234;234m[48;2;0;0;0m;[82C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 37 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmio[m[38;2;234;234;234m[48;2;0;0;0m;[83C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 38 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnotify[m[38;2;234;234;234m[48;2;0;0;0m;                                                               [17C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 39 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mparking_lot[m[38;2;234;234;234m[48;2;0;0;0m;                              [45C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 40 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m;                             [52C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 41 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225m_json[m[38;2;234;234;234m[48;2;0;0;0m;[76C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 42 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225m_yaml[m[38;2;234;234;234m[48;2;0;0;0m;                       [53C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 43 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mvte[m[38;2;234;234;234m[48;2;0;0;0m;                   [64C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 44 [m[38;2;234;234;234m[48;2;0;0;0m                           [73C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 45 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m                            [60C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 46 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mbitflags[m[38;2;234;234;234m[48;2;0;0;0m;[78C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 47 [m[38;2;234;234;234m[48;2;0;0;0m                                                                   [33C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 48 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m                                                     [35C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 49 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmacros[m[38;2;234;234;234m[48;2;0;0;0m;                                           [42C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 50 [m[38;2;234;234;234m[48;2;0;0;0m                                      [62C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 51 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent[m[38;2;234;234;234m[48;2;0;0;0m;                                            [42C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 52 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent_loop[m[38;2;234;234;234m[48;2;0;0;0m;                           [54C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 53 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m;                                                                                      [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[53;106H[K[54;1H[38;2;66;66;66m 54 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225minput[m[38;2;234;234;234m[48;2;0;0;0m;        [78C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 55 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmeter[m[38;2;234;234;234m[48;2;0;0;0m;[86C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 56 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mrenderer[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [21C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[57;165H1,1[11CTop[1;5H[?12l[?25h[?25l[57;1H[K[57;1H:CommandT"[Scratch]"  --No lines in buffer--
"Command-T [Files]"  --No lines in buffer--[1;1H[L[1;1H[38;2;66;66;66m  1 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// Copyright 2016 Joe Wilm, The Alacritty Project Contributors[m[38;2;234;234;234m[48;2;0;0;0m[38C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[29;18H[38;2;140;182;225mserde[40;18Hserde[41;18Hserde[42;18Hserde[m[38;2;234;234;234m[48;2;0;0;0m[54;1H[7m[38;2;77;80;87m[48;2;234;234;234msrc/lib.rs [RO][Git(mouse-reporting)]                                                                                                                               1,1            Top[m[38;2;234;234;234m[48;2;0;0;0m[55;1H[K[56;1H[7m[38;2;77;80;87m[48;2;236;206;88mCommand-T [Files] [-][Git(mouse-reporting)]                                                                                                                         0,0-1          All[m[38;2;234;234;234m[48;2;0;0;0m[57;1H[K[57;1H[38;2;118;120;118m>>[m[38;2;234;234;234m[48;2;0;0;0m [4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[40;1H[7m[38;2;77;80;87m[48;2;234;234;234msrc/lib.rs [RO][Git(mouse-reporting)]                                                                                                                               1,1            Top[m[38;2;234;234;234m[48;2;0;0;0m[41;1H  copypasta/Cargo.lock[41;23H[K[42;1H  build.rs[42;12H[K[43;1H  alacritty.yml[43;16H[K[44;1H  alacritty.recording[44;105H[K[45;1H  alacritty-pre-eloop[45;105H[K[46;1H  TASKS.md[46;12H[K[47;1H  README.md[47;105H[K[48;1H  Makefile[48;11H[K[49;1H  LICENSE-APACHE[49;17H[K[50;1H  Cargo.toml[50;105H[K[51;1H  Cargo.lock[51;13H[K[52;1H  Alacritty.app/Contents/Resources/Alacritty.icns[52;105H[K[53;1H  Alacritty.app/Contents/PkgInfo[53;105H[K[54;1H  Alacritty.app/Contents/MacOS/Alacritty[54;41H[K[55;1H[7m[38;2;234;234;234m[48;2;66;66;66m> Alacritty.app/Contents/Info.plist[m[38;2;234;234;234m[48;2;0;0;0m[7m[38;2;234;234;234m[48;2;223;101;102m                                                                                                                                                   [m[38;2;234;234;234m[48;2;0;0;0m[56;165H[7m[38;2;77;80;87m[48;2;236;206;88m15,1 [m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4H[4m[38;2;106;90;205m [55;1H[?12l[?25h[55;1H[?25l[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hg[4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[41;3Hfont/Car[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mo.lock[41;18H[K[42;3Hmacos/Pk[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mInfo
  thin[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0m.log[43;12H[K[44;3HCar[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mo.toml[44;13H[K[45;3HCar[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mo.lock[45;13H[K[46;3Hres/text.v.[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mlsl
  res/text.f.[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mlsl
  tests/ref/tmux_[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mit_log/alacritty.recording
  tests/ref/tmux_[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mit_log/size.json
  tests/ref/vim_simple_edit/[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mrid.json
  tests/ref/tmux_[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mit_log/grid.json
  tests/ref/tmux_htop/[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mrid.json[52;32H[K[53;3Htests/ref/ll/[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mrid.json[53;25H[K[54;3Hsrc/[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mrid.rs[54;14H[K[55;3H[7m[38;2;234;234;234m[48;2;66;66;66mgrid.json[m[38;2;234;234;234m[48;2;0;0;0m[7m[38;2;234;234;234m[48;2;223;101;102m                        [m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hg[4m[38;2;106;90;205m [55;1H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hgr[4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[40;1H[38;2;66;66;66m 40 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mserde[m[38;2;234;234;234m[48;2;0;0;0m;                                                                                 [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[40;106H[K[41;1H[38;2;66;66;66m 41 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mserde_json[m[38;2;234;234;234m[48;2;0;0;0m;[76C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 42 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mserde_yaml[m[38;2;234;234;234m[48;2;0;0;0m;[76C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 43 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mvte[m[38;2;234;234;234m[48;2;0;0;0m;[83C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[7m[38;2;77;80;87m[48;2;234;234;234msrc/lib.rs [RO][Git(mouse-reporting)]                                                                                                                               1,1            Top[m[38;2;234;234;234m[48;2;0;0;0m[45;3Hhardcoded_bindin[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0ms_alac[1m[4mr[m[38;2;234;234;234m[48;2;0;0;0mitty
  tests/ref/tmux_[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mit_log/alac[1m[4mr[m[38;2;234;234;234m[48;2;0;0;0mitty.recording
  font/src/darwin/c[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0m_colo[1m[4mr[m[38;2;234;234;234m[48;2;0;0;0m.rs
  src/confi[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0m.[1m[4mr[m[38;2;234;234;234m[48;2;0;0;0ms[48;16H[K[49;3Hscripts/create-flame[1m[4mgr[m[38;2;234;234;234m[48;2;0;0;0maph.sh[49;31H[K[50;30H[1m[4mr[51;27Hr[52;24Hr[53;17Hr[54;8Hr[m[38;2;234;234;234m[48;2;0;0;0m[56;166H[7m[38;2;77;80;87m[48;2;236;206;88m1[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hgr[4m[38;2;106;90;205m [55;1H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hgri[4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[44;1H[38;2;66;66;66m 44 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                                    [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[44;106H[K[45;1H[38;2;66;66;66m 45 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m              [74C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 46 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mbitflags[m[38;2;234;234;234m[48;2;0;0;0m;                  [60C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[7m[38;2;77;80;87m[48;2;234;234;234msrc/lib.rs [RO][Git(mouse-reporting)]                                                                                                                               1,1            Top[m[38;2;234;234;234m[48;2;0;0;0m[48;3Htests/ref/tmux_[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mit_log/alac[1m[4mri[m[38;2;234;234;234m[48;2;0;0;0mtty.recording
  hardcoded_bindin[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0ms_alac[1m[4mri[m[38;2;234;234;234m[48;2;0;0;0mtty[50;31H[1m[4mi[51;28Hi[52;25Hi[53;18Hi[54;9Hi[m[38;2;234;234;234m[48;2;0;0;0m[56;165H[7m[38;2;77;80;87m[48;2;236;206;88m8,1 [m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hgri[4m[38;2;106;90;205m [55;1H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hgrid[4m[38;2;106;90;205m [m[38;2;234;234;234m[48;2;0;0;0m[47;1H[38;2;66;66;66m 47 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                                    [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[47;106H[K[48;1H[7m[38;2;77;80;87m[48;2;234;234;234msrc/lib.rs [RO][Git(mouse-reporting)]                                                                                                                               1,1            Top[m[38;2;234;234;234m[48;2;0;0;0m[49;3Htests/ref/tmux_[1m[4mg[m[38;2;234;234;234m[48;2;0;0;0mit_log/alac[1m[4mri[m[38;2;234;234;234m[48;2;0;0;0mtty.recor[1m[4md[m[38;2;234;234;234m[48;2;0;0;0ming[50;32H[1m[4md[51;29Hd[52;26Hd[53;19Hd[54;10Hd[m[38;2;234;234;234m[48;2;0;0;0m[56;165H[7m[38;2;77;80;87m[48;2;236;206;88m7[m[38;2;234;234;234m[48;2;0;0;0m[57;4H[K[57;4Hgrid[4m[38;2;106;90;205m [55;1H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[54;1H[7m[38;2;234;234;234m[48;2;66;66;66m> src/grid.rs[m[38;2;234;234;234m[48;2;0;0;0m[7m[38;2;234;234;234m[48;2;223;101;102m                                                                                                                                                                         [m[38;2;234;234;234m[48;2;0;0;0m[55;1H  [1m[4mgrid[m[38;2;234;234;234m[48;2;0;0;0m.json[55;12H[K[56;165H[7m[38;2;77;80;87m[48;2;236;206;88m6[54;1H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[48;1H[38;2;66;66;66m 48 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m                                                                                        [48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[48;106H[K[49;1H[38;2;66;66;66m 49 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmacros[m[38;2;234;234;234m[48;2;0;0;0m;                         [60C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 50 [m[38;2;234;234;234m[48;2;0;0;0m                                 [67C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 51 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent[m[38;2;234;234;234m[48;2;0;0;0m;                [70C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 52 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent_loop[m[38;2;234;234;234m[48;2;0;0;0m;        [73C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 53 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m;      [80C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[7m[38;2;77;80;87m[48;2;234;234;234msrc/lib.rs [RO][Git(mouse-reporting)]                                                                                                                               1,1            Top[m[38;2;234;234;234m[48;2;0;0;0m[55;1H[38;2;66;66;66m  1 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// Copyright 2016 Joe Wilm, The Alacritty Project Contributors[m[38;2;234;234;234m[48;2;0;0;0m[38C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[7m[38;2;77;80;87m[48;2;236;206;88msrc/lib.rs [RO][Git(mouse-reporting)]      [121C1[14CTop[27m[m[38;2;234;234;234m[48;2;0;0;0m[H[2J[1;1H[38;2;66;66;66m  1 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// Copyright 2016 Joe Wilm, The Alacritty Project Contributors[m[38;2;234;234;234m[48;2;0;0;0m[38C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m  2 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m//[m[38;2;234;234;234m[48;2;0;0;0m[98C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m  3 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// Licensed under the Apache License, Version 2.0 (the "License");[m[38;2;234;234;234m[48;2;0;0;0m[34C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m  4 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// you may not use this file except in compliance with the License.[m[38;2;234;234;234m[48;2;0;0;0m[33C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m  5 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// You may obtain a copy of the License at[m[38;2;234;234;234m[48;2;0;0;0m[58C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m  6 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m//[m[38;2;234;234;234m[48;2;0;0;0m[98C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m  7 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m//     http://www.apache.org/licenses/LICENSE-2.0[m[38;2;234;234;234m[48;2;0;0;0m[51C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m  8 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m//[m[38;2;234;234;234m[48;2;0;0;0m[98C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m  9 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// Unless required by applicable law or agreed to in writing, software[m[38;2;234;234;234m[48;2;0;0;0m[30C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 10 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// distributed under the License is distributed on an "AS IS" BASIS,[m[38;2;234;234;234m[48;2;0;0;0m[32C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 11 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.[m[38;2;234;234;234m[48;2;0;0;0m[25C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 12 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// See the License for the specific language governing permissions and[m[38;2;234;234;234m[48;2;0;0;0m[30C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 13 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m// limitations under the License.[m[38;2;234;234;234m[48;2;0;0;0m[67C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 14 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m//[m[38;2;234;234;234m[48;2;0;0;0m[98C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 15 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;118;120;118m//! Alacritty - The GPU Enhanced Terminal[m[38;2;234;234;234m[48;2;0;0;0m[59C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 16 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![feature(question_mark)][m[38;2;234;234;234m[48;2;0;0;0m[74C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 17 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![feature(range_contains)][m[38;2;234;234;234m[48;2;0;0;0m[73C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 18 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![feature(inclusive_range_syntax)][m[38;2;234;234;234m[48;2;0;0;0m[65C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 19 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![feature(drop_types_in_const)][m[38;2;234;234;234m[48;2;0;0;0m[68C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 20 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![feature(unicode)][m[38;2;234;234;234m[48;2;0;0;0m[80C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 21 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![feature(step_trait)][m[38;2;234;234;234m[48;2;0;0;0m[77C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 22 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![cfg_attr(test, feature(test))][m[38;2;234;234;234m[48;2;0;0;0m[67C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 23 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![feature(core_intrinsics)][m[38;2;234;234;234m[48;2;0;0;0m[72C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 24 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![allow(stable_features)][m[38;2;234;234;234m[48;2;0;0;0m [38;2;118;120;118m// lying about question_mark because 1.14.0 isn't released![m[38;2;234;234;234m[48;2;0;0;0m[14C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 25 [m[38;2;234;234;234m[48;2;0;0;0m[100C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 26 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#![feature(proc_macro)][m[38;2;234;234;234m[48;2;0;0;0m[77C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 27 [m[38;2;234;234;234m[48;2;0;0;0m[100C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 28 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m[88C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 29 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225m_derive[m[38;2;234;234;234m[48;2;0;0;0m;[74C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 30 [m[38;2;234;234;234m[48;2;0;0;0m[100C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 31 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcgmath[m[38;2;234;234;234m[48;2;0;0;0m;[80C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 32 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcopypasta[m[38;2;234;234;234m[48;2;0;0;0m;[77C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 33 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225merrno[m[38;2;234;234;234m[48;2;0;0;0m;[81C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 34 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mfont[m[38;2;234;234;234m[48;2;0;0;0m;[82C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 35 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mglutin[m[38;2;234;234;234m[48;2;0;0;0m;[80C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 36 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mlibc[m[38;2;234;234;234m[48;2;0;0;0m;[82C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 37 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmio[m[38;2;234;234;234m[48;2;0;0;0m;[83C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 38 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnotify[m[38;2;234;234;234m[48;2;0;0;0m;[80C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 39 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mparking_lot[m[38;2;234;234;234m[48;2;0;0;0m;[75C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 40 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m;[81C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 41 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225m_json[m[38;2;234;234;234m[48;2;0;0;0m;[76C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 42 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225m_yaml[m[38;2;234;234;234m[48;2;0;0;0m;[76C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 43 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mvte[m[38;2;234;234;234m[48;2;0;0;0m;[83C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 44 [m[38;2;234;234;234m[48;2;0;0;0m[100C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 45 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m[88C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 46 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mbitflags[m[38;2;234;234;234m[48;2;0;0;0m;[78C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 47 [m[38;2;234;234;234m[48;2;0;0;0m[100C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 48 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m[88C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 49 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmacros[m[38;2;234;234;234m[48;2;0;0;0m;[85C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 50 [m[38;2;234;234;234m[48;2;0;0;0m[100C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 51 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent[m[38;2;234;234;234m[48;2;0;0;0m;[86C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 52 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent_loop[m[38;2;234;234;234m[48;2;0;0;0m;[81C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 53 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m;[86C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 54 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225minput[m[38;2;234;234;234m[48;2;0;0;0m;[86C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 55 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmeter[m[38;2;234;234;234m[48;2;0;0;0m;[86C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 56 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mrenderer[m[38;2;234;234;234m[48;2;0;0;0m;[83C[48;2;42;42;42m [m[38;2;234;234;234m[48;2;0;0;0m[57;165H1,1[11CTop[57;165H[K[57;165H1,1[11CTop[57;165H[K[1;91H[38;2;77;80;87m[48;2;77;80;87m|[2;91H|[3;91H|[4;91H|[5;91H|[6;91H|[7;91H|[8;91H|[9;91H|[10;91H|[11;91H|[12;91H|[13;91H|[14;91H|[15;91H|[16;91H|[17;91H|[18;91H|[19;91H|[20;91H|[21;91H|[22;91H|[23;91H|[24;91H|[25;91H|[26;91H|[27;91H|[28;91H|[29;91H|[30;91H|[31;91H|[32;91H|[33;91H|[34;91H|[35;91H|[36;91H|[37;91H|[38;91H|[39;91H|[40;91H|[41;91H|[42;91H|[43;91H|[44;91H|[45;91H|[46;91H|[47;91H|[48;91H|[49;91H|[50;91H|[51;91H|[52;91H|[53;91H|[54;91H|[55;91H|[m[38;2;234;234;234m[48;2;0;0;0m
[7m[38;2;77;80;87m[48;2;234;234;234msrc/lib.rs [RO][Git(mouse-reporting)]                                   1,1            Top [m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m110 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine {[2;92H[38;2;66;66;66m111 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines[3;92H[38;2;66;66;66m112 [m[38;2;234;234;234m[48;2;0;0;0m    }     [4;92H[38;2;66;66;66m113 [m[38;2;234;234;234m[48;2;0;0;0m[9C [5;92H[38;2;66;66;66m114 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[6;92H[38;2;66;66;66m115 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnum_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn {[7;92H[38;2;66;66;66m116 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols[8;92H[38;2;66;66;66m117 [m[38;2;234;234;234m[48;2;0;0;0m    }     [9;92H[38;2;66;66;66m118 [m[38;2;234;234;234m[48;2;0;0;0m[9C [10;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[11;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[12;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {[13;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;[14;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;[15;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);[16;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m[8C} [17;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }     [18;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m[9C [19;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[20;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[21;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {[22;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;[23;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;[24;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);[25;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m[8C} [26;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }     [27;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m[9C [28;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[29;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {[30;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col[31;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }     [32;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m[9C [33;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m[34;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m   [35;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m[36;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m[37;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[38;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[39;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;[40;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m[9C [41;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {[42;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m[43;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m[44;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {[45;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m[9C       [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(),[46;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m[9C   }[47;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m[9C [48;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {[49;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m[9C       [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(),[50;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m[9C   }[51;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m[9C [52;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);[53;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);[54;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m[9C [55;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m[9C   [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);[56;92H[7m[38;2;77;80;87m[48;2;236;206;88msrc/grid.rs [Git(mouse-reporting)]                                       137,1          20%[28;96H[?12l[?25h[56;167H8[29;96H[56;167H9[30;96H[56;166H40[31;96H[56;167H1,0-1[32;96H[56;167H2,1  [33;96H[56;167H3[34;96H[56;167H4[35;96H[56;167H5[36;96H[56;167H6[37;96H[56;167H7[38;96H[56;167H8[39;96H[56;167H9,0-1[40;96H[56;166H50,1  [41;96H[56;167H1[42;96H[56;167H2[43;96H[56;167H3[44;96H[56;167H4[45;96H[56;167H5[46;96H[56;167H6,0-1[47;96H[56;167H7,1  [48;96H[56;167H8[49;96H[56;167H9[50;96H[56;166H60,0-1[51;96H[56;167H1,1  [52;96H[56;167H2[53;96H[56;167H3,0-1[54;96H[56;167H4,1  [55;96H[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m111 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines                                                                     [2;92H[38;2;66;66;66m112 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [3;92H[38;2;66;66;66m113 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m114 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [5;92H[38;2;66;66;66m115 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnum_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn {                                          [6;92H[38;2;66;66;66m116 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols                                                                      [7;92H[38;2;66;66;66m117 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [8;92H[38;2;66;66;66m118 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [10;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[11;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [12;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [13;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [14;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [15;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [16;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [17;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [19;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [20;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [21;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [22;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [23;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [24;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [25;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [26;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [28;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [29;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [30;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [31;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [33;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [34;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [35;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [36;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [37;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [38;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [39;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [41;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [42;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [43;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [44;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [45;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [46;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [48;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [49;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [50;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [52;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [53;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [55;92H                                                                                           [55;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m[8C}[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m5[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m112 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [2;92H[38;2;66;66;66m113 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m114 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [4;92H[38;2;66;66;66m115 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnum_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn {                                          [5;92H[38;2;66;66;66m116 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols                                                                      [6;92H[38;2;66;66;66m117 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [7;92H[38;2;66;66;66m118 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [9;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[10;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [11;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [12;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [13;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [14;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [15;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [16;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [18;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [19;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [20;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [21;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [22;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [23;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [24;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [25;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [27;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [28;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [29;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [30;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [32;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [33;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [34;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [35;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [36;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [37;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [38;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [40;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [41;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [42;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [43;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [44;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [45;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [47;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [48;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [49;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [51;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [52;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [54;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [55;92H                                                                                           [55;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m6[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m113 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m114 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [3;92H[38;2;66;66;66m115 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnum_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn {                                          [4;92H[38;2;66;66;66m116 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols                                                                      [5;92H[38;2;66;66;66m117 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [6;92H[38;2;66;66;66m118 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [7;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [8;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[9;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [10;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [11;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [12;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [13;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [14;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [15;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [17;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [18;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [19;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [20;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [21;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [22;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [23;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [24;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [26;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [27;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [28;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [29;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [31;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [32;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [33;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [34;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [35;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [36;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [37;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [39;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [40;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [41;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [42;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [43;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [44;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [46;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [47;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [48;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [50;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [51;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [53;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [54;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [55;92H                                                                                           [55;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m7,0-1[9C1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m114 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [2;92H[38;2;66;66;66m115 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnum_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn {                                          [3;92H[38;2;66;66;66m116 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols                                                                      [4;92H[38;2;66;66;66m117 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [5;92H[38;2;66;66;66m118 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [6;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [7;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[8;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [9;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [10;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [11;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [12;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [13;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [14;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [16;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [17;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [18;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [19;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [20;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [21;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [22;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [23;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [25;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [26;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [27;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [28;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [30;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [31;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [32;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [33;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [34;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [35;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [36;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [38;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [39;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [40;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [41;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [42;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [43;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [45;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [46;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [47;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [49;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [50;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [52;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [53;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [54;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m8,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m115 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnum_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn {                                          [2;92H[38;2;66;66;66m116 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols                                                                      [3;92H[38;2;66;66;66m117 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [4;92H[38;2;66;66;66m118 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [5;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [6;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[7;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [8;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [9;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [10;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [11;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [12;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [13;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [15;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [16;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [17;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [18;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [19;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [20;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [21;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [22;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [24;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [25;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [26;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [27;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [29;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [30;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [31;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [32;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [33;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [34;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [35;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [37;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [38;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [39;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [40;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [41;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [42;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [44;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [45;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [46;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [48;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [49;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [51;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [52;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [53;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [55;92H                                                                                           [55;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m9[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m116 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols                                                                      [2;92H[38;2;66;66;66m117 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [3;92H[38;2;66;66;66m118 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [5;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[6;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [7;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [8;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [9;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [10;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [11;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [12;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [14;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [15;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [16;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [17;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [18;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [19;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [20;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [21;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [23;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [24;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [25;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [26;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [28;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [29;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [30;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [31;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [32;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [33;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [34;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [36;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [37;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [38;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [39;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [40;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [41;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [43;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [44;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [45;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [47;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [48;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [50;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [51;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [52;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [54;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [55;92H                                                                                           [55;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();[56;166H[7m[38;2;77;80;87m[48;2;236;206;88m70[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m117 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [2;92H[38;2;66;66;66m118 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [4;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[5;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [6;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [7;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [8;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [9;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [10;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [11;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [12;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [13;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [14;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [15;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [16;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [17;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [18;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [19;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [20;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [22;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [23;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [24;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [25;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [27;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [28;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [29;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [30;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [31;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [32;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [33;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [35;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [36;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [37;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [38;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [39;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [40;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [42;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [43;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [44;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [46;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [47;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [49;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [50;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [51;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [53;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [54;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [55;92H                                                                                           [55;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m118 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [3;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[4;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [5;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [6;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [7;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [8;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [9;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [10;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [11;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [12;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [13;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [14;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [15;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [16;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [17;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [18;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [19;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [21;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [22;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [23;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [24;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [26;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [27;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [28;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [29;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [30;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [31;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [32;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [34;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [35;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [36;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [37;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [38;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [39;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [41;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [42;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [43;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [45;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [46;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [48;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [49;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [50;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [52;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [53;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [54;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [55;92H                                                                                           [55;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m2[13C2[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m119 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [2;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[3;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [4;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [5;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [6;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [7;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [8;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [9;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [10;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [11;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [12;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [13;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [14;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [15;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [16;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [17;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [18;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [20;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [21;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [22;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [23;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [25;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [26;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [27;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [28;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [29;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [30;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [31;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [33;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [34;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [35;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [36;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [37;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [38;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [40;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [41;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [42;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [44;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [45;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [47;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [48;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [49;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [51;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [52;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [53;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [54;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [55;92H                                                                                           [55;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m3,0-1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m120 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_down[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[2;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [3;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [4;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [5;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [6;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [7;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [8;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [10;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [11;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [12;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [13;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [14;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [15;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [16;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [17;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [19;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [20;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [21;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [22;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [24;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [25;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [26;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [27;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [28;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [29;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [30;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [32;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [33;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [34;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [35;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [36;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [37;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [39;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [40;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [41;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [43;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [44;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [46;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [47;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [48;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [50;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [51;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [52;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [53;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [54;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m4,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m121 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region.[38;2;140;182;225mrev[m[38;2;234;234;234m[48;2;0;0;0m() {                                                     [2;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [3;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [4;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [5;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [6;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [7;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [9;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [10;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [11;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [12;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [13;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [14;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [15;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [16;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [18;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [19;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [20;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [21;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [23;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [24;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [25;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [26;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [27;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [28;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [29;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [31;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [32;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [33;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [34;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [35;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [36;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [38;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [39;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [40;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [42;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [43;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [45;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [46;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [47;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [49;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [50;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [51;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [52;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [53;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [55;92H                                                                                           [55;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m5[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m122 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [2;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [3;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [4;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [5;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [6;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [7;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [8;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [9;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [10;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [11;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [12;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [13;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [14;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [15;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [17;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [18;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [19;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [20;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [22;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [23;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [24;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [25;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [26;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [27;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [28;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [30;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [31;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [32;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [33;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [34;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [35;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [37;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [38;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [39;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [41;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [42;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [44;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [45;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [46;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [48;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [49;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [50;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [51;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [52;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [54;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [55;92H                                                                                           [55;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m[12C[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m6[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m123 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m-[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [2;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [3;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [4;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [5;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [6;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [7;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [8;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [9;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [10;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [11;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [12;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [13;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [14;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [16;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [17;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [18;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [19;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [21;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [22;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [23;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [24;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [25;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [26;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [27;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [29;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [30;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [31;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [32;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [33;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [34;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [36;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [37;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [38;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [40;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [41;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [43;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [44;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [45;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [47;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [48;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [49;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [50;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [51;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [53;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [54;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [55;92H                                                                                           [55;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m[8C}[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m7[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m124 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [2;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [3;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [4;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [5;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [6;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [7;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [8;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [9;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [10;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [11;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [12;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [13;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [15;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [16;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [17;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [18;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [20;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [21;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [22;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [23;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [24;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [25;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [26;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [28;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [29;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [30;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [31;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [32;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [33;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [35;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [36;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [37;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [39;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [40;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [42;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [43;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [44;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [46;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [47;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [48;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [49;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [50;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [52;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [53;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [54;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [55;92H                                                                                           [55;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m8,0-1[9C3[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m125 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [2;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [3;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [5;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [6;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [7;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [8;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [9;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [10;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [11;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [12;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [14;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [15;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [16;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [17;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [19;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [20;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [21;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [22;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [23;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [24;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [25;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [27;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [28;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [29;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [30;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [31;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [32;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [34;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [35;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [36;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [38;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [39;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [41;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [42;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [43;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [45;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [46;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [47;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [48;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [49;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [51;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [52;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [53;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [54;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m9,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m126 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [2;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [4;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [5;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [6;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [7;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [8;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [9;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [10;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [11;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [12;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [13;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [14;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [15;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [16;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [18;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [19;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [20;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [21;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [22;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [23;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [24;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [26;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [27;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [28;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [29;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [30;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [31;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [33;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [34;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [35;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [37;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [38;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [40;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [41;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [42;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [44;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [45;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [46;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [47;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [48;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [50;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [51;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [52;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [53;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [55;92H                                                                                           [55;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }[56;166H[7m[38;2;77;80;87m[48;2;236;206;88m80[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m127 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [3;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [4;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [5;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [6;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [7;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [8;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [9;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [10;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [11;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [12;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [13;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [14;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [15;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [17;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [18;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [19;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [20;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [21;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [22;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [23;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [25;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [26;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [27;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [28;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [29;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [30;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [32;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [33;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [34;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [36;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [37;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [39;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [40;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [41;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [43;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [44;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [45;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [46;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [47;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [49;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [50;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [51;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [52;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [54;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [55;92H                                                                                           [55;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m1,0-1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m128 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [2;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [3;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [4;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [5;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [6;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [7;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [8;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [9;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [10;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [11;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [12;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [13;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [14;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [16;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [17;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [18;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [19;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [20;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [21;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [22;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [24;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [25;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [26;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [27;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [28;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [29;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [31;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [32;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [33;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [35;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [36;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [38;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [39;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [40;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [42;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [43;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [44;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [45;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [46;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [48;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [49;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [50;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [51;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [53;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [54;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m2,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m129 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mscroll_up[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, region: Range[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m, positions: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {  [2;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [3;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [4;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [5;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [6;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [7;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [8;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [10;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [11;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [12;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [13;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [15;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [16;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [17;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [18;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [19;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [20;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [21;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [23;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [24;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [25;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [26;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [27;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [28;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [30;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [31;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [32;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [34;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [35;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [37;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [38;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [39;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [41;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [42;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [43;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [44;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [45;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [47;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [48;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [49;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [50;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [52;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [53;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [55;92H                                                                                           [55;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m3[13C4[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m130 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m region {                                                           [2;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [3;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [4;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [5;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [6;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [7;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [9;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [10;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [11;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [12;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [14;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [15;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [16;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [17;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [18;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [19;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [20;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [22;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [23;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [24;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [25;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [26;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [27;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [29;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [30;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [31;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [33;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [34;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [36;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [37;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [38;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [40;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [41;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [42;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [43;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [44;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [46;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [47;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [48;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [49;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [51;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [52;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [54;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [55;92H                                                                                           [55;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m[12Crow.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m4[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m131 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line;                                                            [2;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [3;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [4;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [5;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [6;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [7;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [8;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [9;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [10;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [11;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [12;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [13;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [14;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [15;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [16;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [17;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [18;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [19;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [21;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [22;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [23;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [24;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [25;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [26;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [28;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [29;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [30;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [32;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [33;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [35;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [36;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [37;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [39;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [40;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [41;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [42;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [43;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [45;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [46;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [47;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [48;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [50;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [51;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [53;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [54;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [55;92H                                                                                           [55;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m[8C}[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m5[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m132 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m line [38;2;129;202;191m+[m[38;2;234;234;234m[48;2;0;0;0m positions;                                                [2;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [3;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [4;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [5;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [6;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [7;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [8;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [9;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [10;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [11;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [12;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [13;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [14;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [15;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [16;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [17;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [18;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [20;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [21;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [22;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [23;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [24;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [25;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [27;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [28;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [29;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [31;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [32;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [34;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [35;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [36;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [38;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [39;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [40;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [41;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [42;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [44;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [45;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [46;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [47;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [49;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [50;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [52;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [53;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [54;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [55;92H                                                                                           [55;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m6,0-1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m133 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                 [2;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [3;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [4;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [5;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [6;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [7;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [8;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [9;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [10;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [11;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [12;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [13;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [14;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [15;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [16;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [17;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [19;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [20;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [21;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [22;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [23;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [24;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [26;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [27;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [28;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [30;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [31;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [33;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [34;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [35;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [37;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [38;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [39;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [40;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [41;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [43;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [44;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [45;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [46;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [48;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [49;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [51;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [52;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [53;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [54;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m7,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m134 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [2;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [3;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [5;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [6;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [7;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [8;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [10;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [11;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [12;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [13;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [14;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [15;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [16;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [18;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [19;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [20;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [21;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [22;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [23;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [25;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [26;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [27;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [29;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [30;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [32;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [33;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [34;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [36;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [37;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [38;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [39;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [40;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [42;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [43;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [44;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [45;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [47;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [48;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [50;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [51;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [52;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [53;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [55;92H                                                                                           [55;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m8[13C5[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m135 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [2;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [4;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [5;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [6;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [7;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [9;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [10;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [11;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [12;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [13;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [14;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [15;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [17;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [18;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [19;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [20;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [21;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [22;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [24;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [25;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [26;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [28;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [29;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [31;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [32;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [33;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [35;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [36;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [37;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [38;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [39;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [41;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [42;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [43;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [44;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [46;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [47;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [49;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [50;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [51;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [52;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [54;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [55;92H                                                                                           [55;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m9[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m136 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [3;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [4;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [5;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [6;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [7;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [8;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [9;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [10;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [11;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [12;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [13;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [14;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [16;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [17;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [18;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [19;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [20;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [21;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [23;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [24;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [25;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [27;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [28;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [30;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [31;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [32;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [34;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [35;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [36;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [37;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [38;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [40;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [41;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [42;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [43;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [45;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [46;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [48;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [49;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [50;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [51;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [53;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [54;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [55;92H                                                                                           [55;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m[56;166H[7m[38;2;77;80;87m[48;2;236;206;88m90,0-1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m137 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [2;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [3;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [4;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [5;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [6;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [7;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [8;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [9;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [10;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [11;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [12;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [13;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [15;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [16;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [17;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [18;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [19;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [20;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [22;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [23;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [24;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [26;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [27;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [29;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [30;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [31;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [33;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [34;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [35;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [36;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [37;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [39;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [40;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [41;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [42;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [44;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [45;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [47;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [48;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [49;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [50;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [52;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [53;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [54;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m1,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m138 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcontains[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0mCursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {                                  [2;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [3;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [4;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [5;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [6;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [7;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [8;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [9;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [10;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [11;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [12;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [14;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [15;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [16;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [17;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [18;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [19;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [21;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [22;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [23;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [25;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [26;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [28;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [29;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [30;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [32;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [33;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [34;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [35;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [36;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [38;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [39;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [40;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [41;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [43;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [44;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [46;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [47;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [48;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [49;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [51;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [52;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [53;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [55;92H                                                                                           [55;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m2[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m139 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.line [38;2;129;202;191m&&[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m cursor.col                             [2;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [3;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [5;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [6;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [7;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [8;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [9;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [10;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [11;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [12;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [13;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [14;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [15;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [16;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [17;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [18;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [20;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [21;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [22;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [24;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [25;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [27;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [28;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [29;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [31;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [32;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [33;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [34;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [35;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [37;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [38;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [39;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [40;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [42;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [43;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [45;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [46;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [47;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [48;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [50;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [51;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [52;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [54;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [55;92H                                                                                           [55;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m3,0-1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m140 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [2;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [4;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [5;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [6;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [7;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [8;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [9;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [10;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [11;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [12;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [13;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [14;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [15;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [16;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [17;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [19;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [20;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [21;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [23;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [24;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [26;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [27;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [28;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [30;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [31;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [32;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [33;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [34;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [36;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [37;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [38;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [39;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [41;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [42;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [44;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [45;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [46;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [47;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [49;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [50;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [51;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [53;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [54;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m4,1  [9C6[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m141 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [3;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [4;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [5;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [6;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [7;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [8;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [9;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [10;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [11;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [12;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [13;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [14;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [15;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [16;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [18;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [19;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [20;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [22;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [23;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [25;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [26;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [27;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [29;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [30;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [31;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [32;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [33;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [35;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [36;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [37;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [38;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [40;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [41;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [43;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [44;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [45;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [46;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [48;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [49;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [50;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [52;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [53;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [55;92H                                                                                           [55;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m5[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m142 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// Swap two lines in the grid[m[38;2;234;234;234m[48;2;0;0;0m                                                     [2;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [3;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [4;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [5;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [6;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [7;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [8;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [10;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [11;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [12;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [13;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [14;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [15;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [17;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [18;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [19;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [21;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [22;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [24;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [25;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [26;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [28;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [29;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [30;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [31;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [32;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [34;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [35;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [36;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [37;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [39;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [40;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [42;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [43;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [44;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [45;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [47;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [48;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [49;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [51;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [52;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [54;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [55;92H                                                                                           [55;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][56;167H[7m[38;2;77;80;87m[48;2;236;206;88m6[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m143 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m///[m[38;2;234;234;234m[48;2;0;0;0m                                                                                [2;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [3;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [4;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [5;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [6;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [7;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [9;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [10;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [11;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [12;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [13;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [14;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [16;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [17;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [18;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [20;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [21;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [23;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [24;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [25;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [27;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [28;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [29;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [30;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [31;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [33;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [34;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [35;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [36;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [38;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [39;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [41;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [42;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [43;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [44;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [46;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [47;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [48;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [50;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [51;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [53;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [54;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [55;92H                                                                                           [55;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m7[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m144 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// This could have used slice::swap internally, but we are able to have[m[38;2;234;234;234m[48;2;0;0;0m           [2;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [3;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [4;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [5;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [6;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [7;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [8;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [9;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [10;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [11;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [12;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [13;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [15;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [16;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [17;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [19;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [20;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [22;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [23;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [24;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [26;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [27;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [28;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [29;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [30;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [32;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [33;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [34;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [35;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [37;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [38;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [40;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [41;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [42;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [43;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [45;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [46;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [47;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [49;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [50;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [52;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [53;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [54;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [55;92H                                                                                           [48;135H[48;2;66;66;66m{[m[38;2;234;234;234m[48;2;0;0;0m[55;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m[48;2;66;66;66m}[m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m8[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m145 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;118;120;118m/// better error messages by doing the bounds checking ourselves.[m[38;2;234;234;234m[48;2;0;0;0m                  [2;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [3;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [4;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [5;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [6;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [7;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [8;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [9;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [10;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [11;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [12;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [14;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [15;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [16;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [18;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [19;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [21;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [22;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [23;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [25;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [26;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [27;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [28;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [29;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [31;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [32;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [33;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [34;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [36;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [37;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [39;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [40;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [41;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [42;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [44;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [45;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [46;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [48;2;66;66;66m{[m[38;2;234;234;234m[48;2;0;0;0m                                               [48;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [49;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [51;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [52;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [53;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [54;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m[48;2;66;66;66m}[m[38;2;234;234;234m[48;2;0;0;0m                                                                                      [55;92H                                                                                           [47;135H{[54;96H}[55;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m9,0-1[9C7[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m146 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [2;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [3;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [4;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [5;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [6;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [7;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [8;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [9;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [10;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [11;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [12;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [13;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [14;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [15;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [17;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [18;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [20;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [21;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [22;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [24;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [25;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [26;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [27;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [28;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [30;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [31;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [32;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [33;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [35;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [36;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [38;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [39;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [40;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [41;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [43;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [44;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [45;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [47;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [48;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [50;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [51;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [52;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [53;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [54;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {[56;165H[7m[38;2;77;80;87m[48;2;236;206;88m200,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m147 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mswap_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, src: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine, dst: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                 [2;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [3;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [5;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [6;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [7;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [8;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [9;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [10;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [11;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [12;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [13;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [14;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [16;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [17;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [19;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [20;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [21;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [23;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [24;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [25;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [26;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [27;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [29;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [30;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [31;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [32;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [34;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [35;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [37;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [38;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [39;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [40;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [42;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [43;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [44;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [46;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [47;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [49;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [50;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [51;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [52;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [53;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [55;92H                                                                                           [55;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m148 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::intrinsics::[m[38;2;234;234;234m[48;2;0;0;0munlikely;                                                 [2;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [4;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [5;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [6;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [7;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [8;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [9;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [10;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [11;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [12;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [13;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [15;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [16;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [18;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [19;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [20;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [22;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [23;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [24;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [25;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [26;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [28;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [29;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [30;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [31;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [33;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [34;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [36;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [37;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [38;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [39;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [41;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [42;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [43;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [45;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [46;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [48;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [49;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [50;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [51;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [52;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [54;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [55;92H                                                                                           [55;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m2[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m149 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [3;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [4;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [5;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [6;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [7;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [8;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [10;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [11;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [12;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [14;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [15;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [17;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [18;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [19;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [21;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [22;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [23;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [24;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [25;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [27;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [28;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [29;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [30;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [32;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [33;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [35;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [36;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [37;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [38;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [40;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [41;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [42;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [44;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [45;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [47;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [48;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [49;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [50;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [51;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [53;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [54;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [55;92H                                                                                           [55;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][56;167H[7m[38;2;77;80;87m[48;2;236;206;88m3[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m150 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224munsafe[m[38;2;234;234;234m[48;2;0;0;0m {                                                                       [2;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [3;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [4;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [5;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [6;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [7;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [9;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [10;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [11;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [12;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [13;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [14;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [16;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [17;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [18;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [20;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [21;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [22;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [23;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [24;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [26;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [27;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [28;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [29;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [31;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [32;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [34;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [35;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [36;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [37;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [39;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [40;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [41;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [43;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [44;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [46;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [47;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [48;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [49;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [50;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [52;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [53;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [54;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [55;92H                                                                                           [55;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m4[13C8[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m151 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// check that src/dst are in bounds. Since index::Line newtypes usize,[m[38;2;234;234;234m[48;2;0;0;0m     [2;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [3;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [4;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [5;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [6;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [7;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [8;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [9;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [10;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [11;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [12;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [13;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [15;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [16;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [17;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [19;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [20;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [21;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [22;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [23;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [25;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [26;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [27;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [28;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [30;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [31;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [33;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [34;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [35;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [36;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [38;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [39;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [40;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [42;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [43;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [45;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [46;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [47;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [48;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [49;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [51;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [52;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [53;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [54;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [55;92H                                                                                           [50;138H[48;2;66;66;66m{[m[38;2;234;234;234m[48;2;0;0;0m[55;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m[48;2;66;66;66m}[m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m5[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m152 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;118;120;118m// we can assume values are positive.[m[38;2;234;234;234m[48;2;0;0;0m                                      [2;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [3;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [4;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [5;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [6;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [7;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [8;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [9;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [10;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [11;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [12;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [14;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [15;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [16;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [18;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [19;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [20;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [21;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [22;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [24;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [25;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [26;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [27;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [29;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [30;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [32;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [33;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [34;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [35;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [37;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [38;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [39;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [41;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [42;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [44;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [45;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [46;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [47;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [48;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [48;2;66;66;66m{[m[38;2;234;234;234m[48;2;0;0;0m                                            [50;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [51;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [52;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [53;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [54;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m[48;2;66;66;66m}[m[38;2;234;234;234m[48;2;0;0;0m                                                                                      [55;92H                                                                                           [49;138H{[54;96H}[55;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m6,0-1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m153 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(src [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [2;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [3;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [4;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [5;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [6;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [7;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [8;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [10;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [11;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [12;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [13;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [14;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [15;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [17;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [18;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [19;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [20;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [21;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [23;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [24;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [25;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [26;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [28;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [29;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [31;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [32;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [33;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [34;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [36;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [37;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [38;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [40;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [41;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [43;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [44;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [45;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [46;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [47;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [49;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [50;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [51;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [52;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [53;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [54;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m7,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m154 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines src out of bounds; len={}, src={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [2;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [3;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [5;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [6;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [7;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [9;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [10;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [11;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [12;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [13;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [14;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [16;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [17;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [18;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [19;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [20;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [22;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [23;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [24;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [25;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [27;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [28;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [30;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [31;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [32;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [33;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [35;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [36;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [37;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [39;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [40;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [42;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [43;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [44;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [45;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [46;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [48;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [49;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [50;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [51;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [52;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [53;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [55;92H                                                                                           [55;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m8[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m155 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [2;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [4;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [5;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [6;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [7;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [8;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [9;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [10;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [11;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [12;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [13;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [15;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [16;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [17;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [18;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [19;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [21;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [22;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [23;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [24;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [26;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [27;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [29;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [30;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [31;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [32;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [34;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [35;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [36;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [38;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [39;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [41;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [42;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [43;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [44;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [45;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [47;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [48;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [49;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [50;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [51;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [52;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [54;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [55;92H                                                                                           [55;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m9,0-1[9C9[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m156 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [3;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [4;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [5;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [6;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [7;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [8;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [10;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [11;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [12;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [14;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [15;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [16;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [17;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [18;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [20;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [21;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [22;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [23;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [25;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [26;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [28;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [29;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [30;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [31;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [33;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [34;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [35;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [37;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [38;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [40;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [41;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [42;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [43;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [44;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [46;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [47;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [48;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [49;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [50;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [51;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [53;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [54;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[56;166H[7m[38;2;77;80;87m[48;2;236;206;88m10,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m157 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mif[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225munlikely[m[38;2;234;234;234m[48;2;0;0;0m(dst [38;2;129;202;191m>=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines) {                                           [2;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [3;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [4;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [5;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [6;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [7;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [9;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [10;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [11;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [12;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [13;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [14;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [15;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [16;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [17;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [19;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [20;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [21;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [22;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [24;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [25;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [27;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [28;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [29;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [30;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [32;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [33;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [34;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [36;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [37;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [39;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [40;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [41;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [42;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [43;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [45;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [46;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [47;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [48;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [49;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [50;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [52;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [53;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [55;92H                                                                                           [55;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m158 [m[38;2;234;234;234m[48;2;0;0;0m                [38;2;237;158;86mpanic![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"swap_lines dst out of bounds; len={}, dst={}"[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m(), [2;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [3;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [5;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [6;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [7;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [8;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [9;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [10;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [11;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [12;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [13;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [14;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [15;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [16;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [18;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [19;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [20;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [21;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [23;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [24;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [26;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [27;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [28;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [29;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [31;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [32;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [33;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [35;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [36;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [38;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [39;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [40;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [41;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [42;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [44;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [45;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [46;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [47;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [48;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [49;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [51;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [52;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [54;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [55;92H                                                                                           [55;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col][56;167H[7m[38;2;77;80;87m[48;2;236;206;88m2[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m159 [m[38;2;234;234;234m[48;2;0;0;0m            }                                                                          [2;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [4;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [5;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [6;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [7;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [8;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [9;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [10;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [11;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [12;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [13;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [14;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [15;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [17;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [18;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [19;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [20;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [22;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [23;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [25;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [26;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [27;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [28;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [30;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [31;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [32;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [34;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [35;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [37;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [38;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [39;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [40;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [41;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [43;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [44;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [45;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [46;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [47;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [48;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [50;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [51;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [53;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [54;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                           [55;92H                                                                                           [55;92H[38;2;66;66;66m213 [m[38;2;234;234;234m[48;2;0;0;0m    }[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m3[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m160 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [3;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [4;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [5;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [6;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [7;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [8;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [10;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [11;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [12;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [13;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [14;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [16;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [17;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [18;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [19;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [21;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [22;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [24;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [25;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [26;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [27;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [29;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [30;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [31;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [33;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [34;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [36;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [37;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [38;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [39;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [40;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [42;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [43;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [44;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [45;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [46;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [47;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [49;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [50;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [52;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [53;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                           [54;92H[38;2;66;66;66m213 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [55;92H                                                                                           [48;148H[48;2;66;66;66m{[m[38;2;234;234;234m[48;2;0;0;0m[55;92H[38;2;66;66;66m214 [m[38;2;234;234;234m[48;2;0;0;0m[48;2;66;66;66m}[m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m4[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m161 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m src: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(src.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [2;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [3;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [5;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [6;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [7;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [9;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [10;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [11;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [12;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [13;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [15;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [16;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [17;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [18;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [20;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [21;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [23;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [24;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [25;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [26;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [28;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [29;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [30;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [32;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [33;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [35;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [36;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [37;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [38;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [39;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [40;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [41;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [42;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [43;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [44;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [45;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [46;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [48;2;66;66;66m{[m[38;2;234;234;234m[48;2;0;0;0m                                  [48;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [49;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [51;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [52;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                           [53;92H[38;2;66;66;66m213 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [54;92H[38;2;66;66;66m214 [m[38;2;234;234;234m[48;2;0;0;0m[48;2;66;66;66m}[m[38;2;234;234;234m[48;2;0;0;0m                                                                                      [55;92H                                                                                           [47;148H{[54;96H}[55;92H[38;2;66;66;66m215 [m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m5,0-1[8C30[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m162 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m dst: [38;2;129;202;191m*[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m _ [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mget_unchecked_mut[m[38;2;234;234;234m[48;2;0;0;0m(dst.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m);                       [2;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [4;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [5;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [6;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [7;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [8;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [9;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [10;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [11;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [12;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [14;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [15;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [16;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [17;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [19;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [20;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [22;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [23;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [24;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [25;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [27;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [28;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [29;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [31;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [32;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [33;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [34;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [35;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [36;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [37;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [38;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [39;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [40;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [41;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [42;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [43;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [44;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [45;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [47;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [48;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [49;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [50;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [51;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                           [52;92H[38;2;66;66;66m213 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [53;92H[38;2;66;66;66m214 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [54;92H[38;2;66;66;66m215 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m216 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m6,1  [55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m163 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [3;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [4;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [5;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [6;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [7;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [8;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [9;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [10;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [11;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [12;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [13;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [14;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [15;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [16;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [18;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [19;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [20;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [21;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [22;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [23;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [24;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [26;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [27;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [28;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [30;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [31;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [32;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [33;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [34;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [35;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [36;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [37;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [38;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [39;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [40;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [41;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [42;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [43;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [44;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [46;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [47;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [48;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [49;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [50;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                           [51;92H[38;2;66;66;66m213 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [52;92H[38;2;66;66;66m214 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [53;92H[38;2;66;66;66m215 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [54;92H[38;2;66;66;66m216 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                               [55;92H                                                                                           [55;92H[38;2;66;66;66m217 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m7[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m164 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;237;158;86m::std::ptr::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mswap[m[38;2;234;234;234m[48;2;0;0;0m(src, dst);                                                [2;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [3;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [4;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [5;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [6;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [7;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [8;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [9;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [10;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [11;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [12;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [13;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [14;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [15;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [17;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [18;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [19;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [20;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [21;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [22;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [23;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [24;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [25;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [26;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [27;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [29;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [30;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [31;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [32;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [33;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [34;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [35;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [36;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [37;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [38;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [39;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [40;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [41;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [42;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [43;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [45;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [46;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [47;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [48;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [49;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                           [50;92H[38;2;66;66;66m213 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [51;92H[38;2;66;66;66m214 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [52;92H[38;2;66;66;66m215 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [53;92H[38;2;66;66;66m216 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                               [54;92H[38;2;66;66;66m217 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [55;92H                                                                                           [55;92H[38;2;66;66;66m218 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T {[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m8[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m165 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [2;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [3;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [4;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [5;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [6;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [7;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [8;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [9;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [10;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [11;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [12;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [13;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [14;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [15;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [16;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [17;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [18;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [19;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [20;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [21;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [22;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [23;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [24;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [25;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [26;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [27;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [28;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [29;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [30;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [31;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [32;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [33;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [34;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [35;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [36;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [37;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [38;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [39;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [40;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [41;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [42;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [43;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [44;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [45;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [46;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [47;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [48;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                           [49;92H[38;2;66;66;66m213 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [50;92H[38;2;66;66;66m214 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [51;92H[38;2;66;66;66m215 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [52;92H[38;2;66;66;66m216 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                               [53;92H[38;2;66;66;66m217 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [54;92H[38;2;66;66;66m218 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T {              [55;92H                                                                                           [55;92H[38;2;66;66;66m219 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col][56;167H[7m[38;2;77;80;87m[48;2;236;206;88m9[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m166 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [2;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [3;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [4;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [5;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [6;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [7;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [8;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [9;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [10;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [11;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [12;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [13;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [14;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [15;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [16;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [17;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [18;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [19;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [20;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [21;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [22;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [23;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [24;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [25;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [26;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [27;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [28;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [29;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [30;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [31;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [32;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [33;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [34;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [35;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [36;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [37;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [38;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [39;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [40;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [41;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [42;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [43;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [44;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [45;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [46;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [47;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                           [48;92H[38;2;66;66;66m213 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [49;92H[38;2;66;66;66m214 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [50;92H[38;2;66;66;66m215 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [51;92H[38;2;66;66;66m216 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                               [52;92H[38;2;66;66;66m217 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [53;92H[38;2;66;66;66m218 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T {              [54;92H[38;2;66;66;66m219 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                       [55;92H                                                                                           [55;92H[38;2;66;66;66m220 [m[38;2;234;234;234m[48;2;0;0;0m    }[56;166H[7m[38;2;77;80;87m[48;2;236;206;88m20[13C1[55;96H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[1;92H[38;2;66;66;66m167 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [2;92H[38;2;66;66;66m168 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [3;92H[38;2;66;66;66m169 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mclear[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mF: [38;2;207;171;224mFn[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T)[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, func: F) {                                  [4;92H[38;2;66;66;66m170 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mlet[m[38;2;234;234;234m[48;2;0;0;0m region [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m)..[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mnum_lines[m[38;2;234;234;234m[48;2;0;0;0m();                                 [5;92H[38;2;66;66;66m171 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mclear_region[m[38;2;234;234;234m[48;2;0;0;0m(region, func);                                               [6;92H[38;2;66;66;66m172 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [7;92H[38;2;66;66;66m173 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [8;92H[38;2;66;66;66m174 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_lines[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, lines: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) {                                   [9;92H[38;2;66;66;66m175 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mwhile[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mLine[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mlen[m[38;2;234;234;234m[48;2;0;0;0m()) [38;2;129;202;191m!=[m[38;2;234;234;234m[48;2;0;0;0m lines {                                   [10;92H[38;2;66;66;66m176 [m[38;2;234;234;234m[48;2;0;0;0m            [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw.[38;2;140;182;225mpop[m[38;2;234;234;234m[48;2;0;0;0m();                                                            [11;92H[38;2;66;66;66m177 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [12;92H[38;2;66;66;66m178 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [13;92H[38;2;66;66;66m179 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.lines [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m lines;                                                            [14;92H[38;2;66;66;66m180 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [15;92H[38;2;66;66;66m181 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [16;92H[38;2;66;66;66m182 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mshrink_cols[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cols: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mColumn) {                                   [17;92H[38;2;66;66;66m183 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m row [38;2;207;171;224min[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mlines_mut[m[38;2;234;234;234m[48;2;0;0;0m() {                                                  [18;92H[38;2;66;66;66m184 [m[38;2;234;234;234m[48;2;0;0;0m            row.[38;2;140;182;225mshrink[m[38;2;234;234;234m[48;2;0;0;0m(cols);                                                          [19;92H[38;2;66;66;66m185 [m[38;2;234;234;234m[48;2;0;0;0m        }                                                                              [20;92H[38;2;66;66;66m186 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [21;92H[38;2;66;66;66m187 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.cols [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m cols;                                                              [22;92H[38;2;66;66;66m188 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [23;92H[38;2;66;66;66m189 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [24;92H[38;2;66;66;66m190 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [25;92H[38;2;66;66;66m191 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                               [26;92H[38;2;66;66;66m192 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m;                                                              [27;92H[38;2;66;66;66m193 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [28;92H[38;2;66;66;66m194 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [29;92H[38;2;66;66;66m195 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                         [30;92H[38;2;66;66;66m196 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                             [31;92H[38;2;66;66;66m197 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [32;92H[38;2;66;66;66m198 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [33;92H[38;2;66;66;66m199 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [34;92H[38;2;66;66;66m200 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                            [35;92H[38;2;66;66;66m201 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [36;92H[38;2;66;66;66m202 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, index: [38;2;237;158;86mindex::[m[38;2;234;234;234m[48;2;0;0;0mLine) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m Row[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {             [37;92H[38;2;66;66;66m203 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[index.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m]                                                         [38;92H[38;2;66;66;66m204 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [39;92H[38;2;66;66;66m205 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [40;92H[38;2;66;66;66m206 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [41;92H[38;2;66;66;66m207 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m Index[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                                  [42;92H[38;2;66;66;66m208 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mtype[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mOutput[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m=[m[38;2;234;234;234m[48;2;0;0;0m T;                                                                   [43;92H[38;2;66;66;66m209 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [44;92H[38;2;66;66;66m210 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [45;92H[38;2;66;66;66m211 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m T {                          [46;92H[38;2;66;66;66m212 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                           [47;92H[38;2;66;66;66m213 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [48;92H[38;2;66;66;66m214 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                      [49;92H[38;2;66;66;66m215 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                       [50;92H[38;2;66;66;66m216 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m, T[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m IndexMut[38;2;129;202;191m<&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'cursor[m[38;2;234;234;234m[48;2;0;0;0m Cursor[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfor[m[38;2;234;234;234m[48;2;0;0;0m Grid[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mT[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m {                               [51;92H[38;2;66;66;66m217 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m                                                                          [52;92H[38;2;66;66;66m218 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex_mut[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m, [38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, cursor: [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'b[m[38;2;234;234;234m[48;2;0;0;0m Cursor) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m'a[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m T {              [53;92H[38;2;66;66;66m219 [m[38;2;234;234;234m[48;2;0;0;0m        [38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mmut[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.raw[cursor.line.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m][cursor.col]                                       [54;92H[38;2;66;66;66m220 [m[38;2;234;234;234m[48;2;0;0;0m    }                                                                                  [55;92H                                                                                           [50;151H[48;2;66;66;66m{[m[38;2;234;234;234m[48;2;0;0;0m[55;92H[38;2;66;66;66m221 [m[38;2;234;234;234m[48;2;0;0;0m[48;2;66;66;66m}[m[38;2;234;234;234m[48;2;0;0;0m[56;167H[7m[38;2;77;80;87m[48;2;236;206;88m1[55;96H[?12l[?25h[?25l
src/lib.rs [RO][Git(mouse-reporting)]                                   1,1            Top [m[38;2;234;234;234m[48;2;0;0;0m[7m[38;2;77;80;87m[48;2;234;234;234msrc/grid.rs [Git(mouse-reporting)]                                       221,1          31%[1;5H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[38;2;66;66;66m 28 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m                                                                          
[38;2;66;66;66m 29 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225m_derive[m[38;2;234;234;234m[48;2;0;0;0m;                                                            
[38;2;66;66;66m 30 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 31 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcgmath[m[38;2;234;234;234m[48;2;0;0;0m;                                                                  
[38;2;66;66;66m 32 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mcopypasta[m[38;2;234;234;234m[48;2;0;0;0m;                                                               
[38;2;66;66;66m 33 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225merrno[m[38;2;234;234;234m[48;2;0;0;0m;                                                                   
[38;2;66;66;66m 34 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mfont[m[38;2;234;234;234m[48;2;0;0;0m;                                                                    
[38;2;66;66;66m 35 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mglutin[m[38;2;234;234;234m[48;2;0;0;0m;                                                                  
[38;2;66;66;66m 36 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mlibc[m[38;2;234;234;234m[48;2;0;0;0m;                                                                    
[38;2;66;66;66m 37 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmio[m[38;2;234;234;234m[48;2;0;0;0m;                                                                     
[38;2;66;66;66m 38 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnotify[m[38;2;234;234;234m[48;2;0;0;0m;                                                                  
[38;2;66;66;66m 39 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mparking_lot[m[38;2;234;234;234m[48;2;0;0;0m;                                                             
[38;2;66;66;66m 40 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m;                                                                   
[38;2;66;66;66m 41 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225m_json[m[38;2;234;234;234m[48;2;0;0;0m;                                                              
[38;2;66;66;66m 42 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;0;0;0m[48;2;236;206;88mserde[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225m_yaml[m[38;2;234;234;234m[48;2;0;0;0m;                                                              
[38;2;66;66;66m 43 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mvte[m[38;2;234;234;234m[48;2;0;0;0m;                                                                     
[38;2;66;66;66m 44 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 45 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m                                                                          
[38;2;66;66;66m 46 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mbitflags[m[38;2;234;234;234m[48;2;0;0;0m;                                                                
[38;2;66;66;66m 47 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 48 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m                                                                          
[38;2;66;66;66m 49 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmacros[m[38;2;234;234;234m[48;2;0;0;0m;                                                                       
[38;2;66;66;66m 50 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 51 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent[m[38;2;234;234;234m[48;2;0;0;0m;                                                                        
[38;2;66;66;66m 52 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent_loop[m[38;2;234;234;234m[48;2;0;0;0m;                                                                   
[38;2;66;66;66m 53 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m;                                                                        
[38;2;66;66;66m 54 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225minput[m[38;2;234;234;234m[48;2;0;0;0m;                                                                        
[38;2;66;66;66m 55 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmeter[m[38;2;234;234;234m[48;2;0;0;0m;                                                                        
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          [29;1H[38;2;66;66;66m 56 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mrenderer[m[38;2;234;234;234m[48;2;0;0;0m;
[38;2;66;66;66m 57 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225msync[m[38;2;234;234;234m[48;2;0;0;0m;
[38;2;66;66;66m 58 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mterm[m[38;2;234;234;234m[48;2;0;0;0m;
[38;2;66;66;66m 59 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mtty[m[38;2;234;234;234m[48;2;0;0;0m;
[38;2;66;66;66m 60 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mutil[m[38;2;234;234;234m[48;2;0;0;0m;
[38;2;66;66;66m 61 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mansi[m[38;2;234;234;234m[48;2;0;0;0m;
[38;2;66;66;66m 62 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mconfig[m[38;2;234;234;234m[48;2;0;0;0m;
[38;2;66;66;66m 63 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mgrid[m[38;2;234;234;234m[48;2;0;0;0m;
[38;2;66;66;66m 64 
 65 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::sync::[m[38;2;234;234;234m[48;2;0;0;0mArc;
[38;2;66;66;66m 66 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::sync::atomic::[m[38;2;234;234;234m[48;2;0;0;0m{AtomicBool, Ordering};
[38;2;66;66;66m 67 
 68 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mgrid::[m[38;2;234;234;234m[48;2;0;0;0mGrid;
[38;2;66;66;66m 69 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mterm::[m[38;2;234;234;234m[48;2;0;0;0mTerm;
[38;2;66;66;66m 70 
 71 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[derive([m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mDebug[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mEq[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mPartialEq[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mCopy[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mClone[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mDefault[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mSerialize[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mDeserialize[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m)][m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 72 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mstruct[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mRgb[m[38;2;234;234;234m[48;2;0;0;0m {
[38;2;66;66;66m 73 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m r: [38;2;207;171;224mu8[m[38;2;234;234;234m[48;2;0;0;0m,
[38;2;66;66;66m 74 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m g: [38;2;207;171;224mu8[m[38;2;234;234;234m[48;2;0;0;0m,
[38;2;66;66;66m 75 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m b: [38;2;207;171;224mu8[m[38;2;234;234;234m[48;2;0;0;0m,
[38;2;66;66;66m 76 [m[38;2;234;234;234m[48;2;0;0;0m}
[38;2;66;66;66m 77 
 78 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mgl[m[38;2;234;234;234m[48;2;0;0;0m {
[38;2;66;66;66m 79 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#![allow(non_upper_case_globals)][m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 80 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102minclude![m[38;2;234;234;234m[48;2;0;0;0m([38;2;223;101;102mconcat![m[38;2;234;234;234m[48;2;0;0;0m([38;2;223;101;102menv![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"OUT_DIR"[m[38;2;234;234;234m[48;2;0;0;0m), [38;2;197;209;92m"/gl_bindings.rs"[m[38;2;234;234;234m[48;2;0;0;0m));
[38;2;66;66;66m 81 [m[38;2;234;234;234m[48;2;0;0;0m}
[38;2;66;66;66m 82 [m[38;2;234;234;234m[48;2;0;0;0m[56;73H[7m[38;2;77;80;87m[48;2;236;206;88m28,1[11C61%[1;5H[?12l[?25h[?25l[m[38;2;234;234;234m[48;2;0;0;0m[38;2;66;66;66m 45 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m                                                                          
[38;2;66;66;66m 46 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mextern[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mcrate[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mbitflags[m[38;2;234;234;234m[48;2;0;0;0m;                                                                
[38;2;66;66;66m 47 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 48 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[macro_use][m[38;2;234;234;234m[48;2;0;0;0m                                                                          
[38;2;66;66;66m 49 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmacros[m[38;2;234;234;234m[48;2;0;0;0m;                                                                       
[38;2;66;66;66m 50 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 51 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent[m[38;2;234;234;234m[48;2;0;0;0m;                                                                        
[38;2;66;66;66m 52 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mevent_loop[m[38;2;234;234;234m[48;2;0;0;0m;                                                                   
[38;2;66;66;66m 53 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mindex[m[38;2;234;234;234m[48;2;0;0;0m;                                                                        
[38;2;66;66;66m 54 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225minput[m[38;2;234;234;234m[48;2;0;0;0m;                                                                        
[38;2;66;66;66m 55 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mmeter[m[38;2;234;234;234m[48;2;0;0;0m;                                                                        
[38;2;66;66;66m 56 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mrenderer[m[38;2;234;234;234m[48;2;0;0;0m;                                                                     
[38;2;66;66;66m 57 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225msync[m[38;2;234;234;234m[48;2;0;0;0m;                                                                         
[38;2;66;66;66m 58 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mterm[m[38;2;234;234;234m[48;2;0;0;0m;                                                                         
[38;2;66;66;66m 59 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mtty[m[38;2;234;234;234m[48;2;0;0;0m;                                                                          
[38;2;66;66;66m 60 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mutil[m[38;2;234;234;234m[48;2;0;0;0m;                                                                         
[38;2;66;66;66m 61 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mansi[m[38;2;234;234;234m[48;2;0;0;0m;                                                                         
[38;2;66;66;66m 62 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mconfig[m[38;2;234;234;234m[48;2;0;0;0m;                                                                       
[38;2;66;66;66m 63 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mgrid[m[38;2;234;234;234m[48;2;0;0;0m;                                                                         
[38;2;66;66;66m 64 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 65 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::sync::[m[38;2;234;234;234m[48;2;0;0;0mArc;                                                                   
[38;2;66;66;66m 66 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mstd::sync::atomic::[m[38;2;234;234;234m[48;2;0;0;0m{AtomicBool, Ordering};                                        
[38;2;66;66;66m 67 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 68 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mgrid::[m[38;2;234;234;234m[48;2;0;0;0mGrid;                                                                   
[38;2;66;66;66m 69 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224muse[m[38;2;234;234;234m[48;2;0;0;0m [38;2;237;158;86mterm::[m[38;2;234;234;234m[48;2;0;0;0mTerm;                                                                   
[38;2;66;66;66m 70 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 71 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[derive([m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mDebug[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mEq[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mPartialEq[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mCopy[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mClone[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mDefault[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mSerialize[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m, [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mDeserialize[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m)][m[38;2;234;234;234m[48;2;0;0;0m         
[38;2;66;66;66m 72 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mstruct[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mRgb[m[38;2;234;234;234m[48;2;0;0;0m {                                                                      
[38;2;66;66;66m 73 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m r: [38;2;207;171;224mu8[m[38;2;234;234;234m[48;2;0;0;0m,                                                                        
[38;2;66;66;66m 74 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m g: [38;2;207;171;224mu8[m[38;2;234;234;234m[48;2;0;0;0m,                                                                        
[38;2;66;66;66m 75 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m b: [38;2;207;171;224mu8[m[38;2;234;234;234m[48;2;0;0;0m,                                                                        
[38;2;66;66;66m 76 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                     
[38;2;66;66;66m 77 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
[38;2;66;66;66m 78 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mmod[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mgl[m[38;2;234;234;234m[48;2;0;0;0m {                                                                          
[38;2;66;66;66m 79 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#![allow(non_upper_case_globals)][m[38;2;234;234;234m[48;2;0;0;0m                                                 
[38;2;66;66;66m 80 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102minclude![m[38;2;234;234;234m[48;2;0;0;0m([38;2;223;101;102mconcat![m[38;2;234;234;234m[48;2;0;0;0m([38;2;223;101;102menv![m[38;2;234;234;234m[48;2;0;0;0m([38;2;197;209;92m"OUT_DIR"[m[38;2;234;234;234m[48;2;0;0;0m), [38;2;197;209;92m"/gl_bindings.rs"[m[38;2;234;234;234m[48;2;0;0;0m));                            
[38;2;66;66;66m 81 [m[38;2;234;234;234m[48;2;0;0;0m}                                                                                     
[38;2;66;66;66m 82 [m[38;2;234;234;234m[48;2;0;0;0m                                                                                      
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          
                                                                                          [39;1H[38;2;66;66;66m 83 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m#[derive([m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mClone[m[38;2;234;234;234m[48;2;0;0;0m[38;2;223;101;102m)][m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 84 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mstruct[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mFlag[m[38;2;234;234;234m[48;2;0;0;0m([38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m Arc[38;2;129;202;191m<[m[38;2;234;234;234m[48;2;0;0;0mAtomicBool[38;2;129;202;191m>[m[38;2;234;234;234m[48;2;0;0;0m);
[38;2;66;66;66m 85 [m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mimpl[m[38;2;234;234;234m[48;2;0;0;0m Flag {
[38;2;66;66;66m 86 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mnew[m[38;2;234;234;234m[48;2;0;0;0m(initial_value: [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m Flag {
[38;2;66;66;66m 87 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;140;182;225mFlag[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86mArc::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mnew[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86mAtomicBool::[m[38;2;234;234;234m[48;2;0;0;0m[38;2;140;182;225mnew[m[38;2;234;234;234m[48;2;0;0;0m(initial_value)))
[38;2;66;66;66m 88 [m[38;2;234;234;234m[48;2;0;0;0m    }
[38;2;66;66;66m 89 
 90 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 91 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mget[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m) [38;2;129;202;191m->[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m {
[38;2;66;66;66m 92 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mload[m[38;2;234;234;234m[48;2;0;0;0m([38;2;237;158;86mOrdering::[m[38;2;234;234;234m[48;2;0;0;0mAcquire)
[38;2;66;66;66m 93 [m[38;2;234;234;234m[48;2;0;0;0m    }
[38;2;66;66;66m 94 
 95 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;223;101;102m#[inline][m[38;2;234;234;234m[48;2;0;0;0m
[38;2;66;66;66m 96 [m[38;2;234;234;234m[48;2;0;0;0m    [38;2;207;171;224mpub[m[38;2;234;234;234m[48;2;0;0;0m [38;2;207;171;224mfn[m[38;2;234;234;234m[48;2;0;0;0m [38;2;140;182;225mset[m[38;2;234;234;234m[48;2;0;0;0m([38;2;129;202;191m&[m[38;2;234;234;234m[48;2;0;0;0m[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m, value: [38;2;207;171;224mbool[m[38;2;234;234;234m[48;2;0;0;0m) {
[38;2;66;66;66m 97 [m[38;2;234;234;234m[48;2;0;0;0m[8C[38;2;207;171;224mself[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;237;158;86m0[m[38;2;234;234;234m[48;2;0;0;0m.[38;2;140;182;225mstore[m[38;2;234;234;234m[48;2;0;0;0m(value, [38;2;237;158;86mOrdering::[m[38;2;234;234;234m[48;2;0;0;0mRelease)
[38;2;66;66;66m 98 [m[38;2;234;234;234m[48;2;0;0;0m    }
[38;2;66;66;66m 99 [m[38;2;234;234;234m[48;2;0;0;0m}[56;73H[7m[38;2;77;80;87m[48;2;236;206;88m55[13CBot[11;5H[?12l[?25h[?25l[56;73H82,0-1[38;5H[?12l[?25h